<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/vscode-codicons@0.0.17/dist/codicon.min.css" rel="stylesheet">
    <title>Sounds Good To Me</title>
</head>
<body>
    <div id="waveform"></div>
    <!-- <button id="test">test sound (debug)</button> -->
    <button id="code1">Example code 1</button>
    <button id="code2">Example code 2</button>
    <button id="code3">Example code 3</button>
    lines per seconds: <input type="range" id="lps" min="0" max="200" value="80"><span id="lps-display"></span>
    <div>
        <div id="file" name="file" class="monaco" style="width: 100%; min-height: 800px;"></div>
        <button id="submit">Submit</button>
    </div>
    <p>
        <details>
            <summary>What Is this?</summary>
            This page is an experiment made during HACK-A-DOG H1 2024: <br/>
            It tries to make use of the sound generated by analysis the source code of a program. <br/>
            As human tend to perceive distortion and anomaly in sound, much better than in text or in color, we wanted to see if it could be used for code review or code analysis<br/>
            Provide a piece of code in the editor, and click on submit to listen to it.<br/>
        </details>
    </p>
    <script type="module">
        import WaveSurfer from 'https://cdn.jsdelivr.net/npm/wavesurfer.js@7/dist/wavesurfer.esm.js'
        
        const wavesurfer = WaveSurfer.create({
          container: '#waveform',
          waveColor: '#4F4A85',
          progressColor: '#383351',
          url: '/recording.webm',
        })
        
        wavesurfer.on('interaction', () => {
          wavesurfer.play()
        })
    </script>
    <script src="https://unpkg.com/tone"></script>
    <script type="module">
        import * as monaco from 'https://cdn.jsdelivr.net/npm/monaco-editor@0.39.0/+esm';
        import * as main from "./main.js";
        var editor = monaco.editor.create(document.querySelector('.monaco'), {language: 'go'});
        window.editor = editor;
    </script>
    <script src="main.js" type="module"></script>
</body>
</html>